<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register â€“ EcoTrack</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<aside class="sidebar">

    <a href="{{ url_for('about') }}" class="sidebar-item sidebar-logo">
        <img src="{{ url_for('static', filename='images/ecotrack.png') }}" class="icon">
        <span class="tooltip">About EcoTrack</span>
    </a>

    <a href="{{ url_for('home') }}" class="sidebar-item">
        <img src="{{ url_for('static', filename='images/home.png') }}" class="icon">
        <span class="tooltip">Home</span>
    </a>

    <a href="{{ url_for('create_post') }}" class="sidebar-item">
        <img src="{{ url_for('static', filename='images/post.png') }}" class="icon">
        <span class="tooltip">Create Post</span>
    </a>

    <a href="{{ url_for('search') }}" class="sidebar-item">
        <img src="{{ url_for('static', filename='images/search.png') }}" class="icon">
        <span class="tooltip">Search</span>
    </a>

    <a href="{{ url_for('rewards') }}" class="sidebar-item">
        <img src="{{ url_for('static', filename='images/rewards.png') }}" class="icon">
        <span class="tooltip">Rewards</span>
    </a>

    <div class="sidebar-item has-dropdown active">
        <img src="{{ url_for('static', filename='images/login.png') }}" class="icon">
        <span class="tooltip">Register</span>
    </div>

    <a href="{{ url_for('settings') }}" class="sidebar-item">
        <img src="{{ url_for('static', filename='images/settings.png') }}" class="icon">
        <span class="tooltip">Settings</span>
    </a>

    <a href="{{ url_for('logout') }}" class="sidebar-item">
            <h5>Logout</h5>
            <span class="tooltip">Logout</span>
    </a>


</aside>


<main class="auth-container">

    <div class="auth-card card">

        <h2 class="auth-title">Create Your Account</h2>

        <form action="{{ url_for('registeruser') }}" method="POST" enctype="multipart/form-data">

            <label class = "form-label">
                Profile Picture
                <input type="file" name = "pic" accept="image/*" required >
            </label>

            <label class="form-label">
                Username
                <input type="text" name="username" placeholder="Choose a username" required>
            </label>

            <label class="form-label">
                Email
                <input type="text" name="email" placeholder="Enter your email" required>
            </label>

            <label class="form-label">
                Password
                <input type="password" name="password" placeholder="Create a password" required>
            </label>

            <label class="form-label">
                Confirm Password
                <input type="password" name="confirm_password" placeholder="Re-enter password" required>
            </label>

            <button class="btn-primary">Register</button>

        </form>
        <!-- Flash Messages for Registeration errors -->
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            <ul class="flashes" style="list-style: none; padding: 0; color: #ff6b6b; text-align: center; margin-top: 1rem;">
            {% for category, message in messages %}
              <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}

    </div>

</main>

<script src="{{ url_for('static', filename='script.js') }}"></script>

</body>
</html>
